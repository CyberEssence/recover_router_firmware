# Полная последовательность действий для восстановления роутера (в этом режиме индикатор светится попеременно зелёным и красным) 

1. Подключение устройства к компьютеру через USB

2. Определение типа устройства и его прошивки
   - Используйте команду: cat /proc/mtd
   - Это покажет структуру памяти устройства и размеры отдельных разделов

3. Создание полного дампа NAND-памяти
   - Используйте nanddump для создания полного образа:
    
     sudo nanddump --raw /dev/mtd0 > full_dump.bin

   - Замените /dev/mtd0 на соответствующий раздел вашего устройства

4. Создание отдельных дампов для mtd
   - Для каждого раздела выполните команду:
 
     sudo nanddump --raw /dev/mtdX > mtdX_dump.bin

   - Замените X на номер соответствующего раздела

5. Добавление OOB к полному дампу
   - Используйте bbe для добавления OOB к полному дампу:

     bbe -b ":512" -e "A 0000000000000000" ful < full_dump.bin > full_dump_with_oob.bin

   - Эта команда добавляет OOB к концу полного дампа

6. Создание резервной копии прошивки
   - Если у вас есть доступ к прошивке, создайте резервную копию:

     cp firmware.bin backup_firmware.bin

7. Подготовка файла для восстановления
   - Скомпилируйте все mtd дампы в один файл:
    
     cat mtd0_dump.bin mtd1_dump.bin ... > combined_mtd_dumps.bin

   - Добавьте этот файл в начало файла с полным дампом:
    
     cat combined_mtd_dumps.bin >> full_dump_with_oob.bin

8. Подготовка устройства к восстановлению
   - Отключите устройство от питания
   - Вставьте SD-карту или USB-накопитель с подготовленными файлами

9. Запуск процесса восстановления
   - Включите устройство
   - Нажмите кнопку сброса (обычно это кнопка Reset)
   - Удерживайте кнопку сброса до появления индикатора загрузки

10. Загрузка прошивки из резервной копии
 
- Настройте устройство для загрузки прошивки через SD-карту или USB-накопитель

Sercomm Recovery Tool:
https://github.com/danitool/sercomm-recovery

Nanddump Tool:
https://github.com/danitool/sercomm-recovery

bbe tool:
https://github.com/TimoSavi/bbe
